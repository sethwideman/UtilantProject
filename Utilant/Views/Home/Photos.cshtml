@model Utilant.Models.PhotosViewModel

@{
    ViewBag.Title = "Photos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Html.DisplayFor(modelItem => Model.UsersName)'s Album : @Html.DisplayFor(modelItem => Model.Title)</h2>
<div align="right">@Html.ActionLink("Back to List", "Index")</div>

@* Displays Photos in columns of 4*@
<table class="table">
@for (int i = 0; i < Model.Photos.Count() - 4; i += 4)
{
    <tr align="center">
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.Photos.ElementAt(i).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.Photos.ElementAt(i).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 1).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 1).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 2).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 2).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 3).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.Photos.ElementAt(i + 3).title)
        </td>
    </tr>
}
@* Takes care of extra photos if not evenly divisible by 4*@
@{ 
    int left = (Model.Photos.Count() % 4 == 0) ? 4 : Model.Photos.Count() % 4;

}
    <tr align="center">
        @while (left > 0)
        {
            <td>
                <img src=@Html.DisplayFor(modelItem => Model.Photos.ElementAt(Model.Photos.Count() - left).thumbnailUrl) class="img-thumbnail" />
                <br />
                @Html.DisplayFor(modelItem => Model.Photos.ElementAt(Model.Photos.Count() - left).title)
            </td>
            left--;
        }
    </tr>
</table>
