@model IEnumerable<Utilant.Models.Photo>

@{
    ViewBag.Title = "Photos";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Photos</h2>

@* Displays Photos in columns of 4*@
<table class="table">
@for (int i = 0; i < Model.Count() - 4; i += 4)
{
    <tr align="center">
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.ElementAt(i).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.ElementAt(i).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.ElementAt(i + 1).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.ElementAt(i + 1).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.ElementAt(i + 2).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.ElementAt(i + 2).title)
        </td>
        <td>
            <img src=@Html.DisplayFor(modelItem => Model.ElementAt(i + 3).thumbnailUrl) class="img-thumbnail"/>
            <br />
            @Html.DisplayFor(modelItem => Model.ElementAt(i + 3).title)
        </td>
    </tr>
}
@* Takes care of extra photos if not evenly divisible by 4*@
@{ 
    int left = (Model.Count() % 4 == 0) ? 4 : Model.Count() % 4;

}
    <tr align="center">
        @while (left > 0)
        {
            <td>
                <img src=@Html.DisplayFor(modelItem => Model.ElementAt(Model.Count() - left).thumbnailUrl) class="img-thumbnail" />
                <br />
                @Html.DisplayFor(modelItem => Model.ElementAt(Model.Count() - left).title)
            </td>
            left--;
        }
    </tr>
</table>
